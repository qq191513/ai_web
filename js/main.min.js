document.addEventListener("DOMContentLoaded",()=>{initializeLazyLoading(),initializeIntersectionObserver(),initializeSmoothScrolling(),initializeFormValidation(),initializeBackToTop()});function initializeLazyLoading(){const e=document.querySelectorAll('img[loading="lazy"]'),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.src=t.dataset.src,t.classList.add("loaded"),t.unobserve(t)}})});e.forEach(e=>t.observe(e))}function initializeIntersectionObserver(){const e=document.querySelectorAll(".animate-on-scroll"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("slide-up"),t.unobserve(e.target))})},{threshold:.1});e.forEach(e=>t.observe(e))}function initializeSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})}function initializeFormValidation(){document.querySelectorAll("form").forEach(e=>{e.querySelectorAll("input, textarea").forEach(t=>{t.addEventListener("input",debounce(validateInput,300)),t.addEventListener("blur",()=>validateInput(t))}),e.addEventListener("submit",async e=>{e.preventDefault(),validateForm(e.target)&&await submitForm(e.target)})})}function validateInput(e){const t=e.value.trim();let n=!0,o="";switch(e.type){case"email":n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),o="Please enter a valid email address";break;case"tel":n=/^\+?[\d\s-]{10,}$/.test(t),o="Please enter a valid phone number";break;default:n=t.length>0,o="This field is required"}const r=e.nextElementSibling;return n?(e.classList.remove("border-red-500"),r&&r.classList.contains("error-message")&&(r.style.display="none")):(e.classList.add("border-red-500"),r&&r.classList.contains("error-message")&&(r.textContent=o,r.style.display="block")),n}function validateForm(e){let t=!0;return e.querySelectorAll("input, textarea").forEach(e=>{validateInput(e)||(t=!1)}),t}async function submitForm(e){const t=e.querySelector('button[type="submit"]'),n=t.textContent;try{t.classList.add("button-loading"),t.disabled=!0,await new Promise(e=>setTimeout(e,1500)),showToast("Form submitted successfully!","success"),e.reset()}catch(e){showToast("An error occurred. Please try again.","error")}finally{t.classList.remove("button-loading"),t.disabled=!1,t.textContent=n}}function showToast(e,t="success"){const n=document.createElement("div");n.className=`toast ${t}`,n.textContent=e,document.body.appendChild(n),requestAnimationFrame(()=>n.classList.add("show")),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},3e3)}function debounce(e,t){let n;return function(...o){const r=()=>{clearTimeout(n),e(...o)};clearTimeout(n),n=setTimeout(r,t)}}function toggleMobileMenu(){const e=document.getElementById("mobile-menu"),t=document.getElementById("mobile-menu-button"),n="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!n),e.classList.toggle("hidden")}function initializeBackToTop(){const e=document.getElementById("back-to-top");if(!e)return;window.addEventListener("scroll",()=>{window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})} 